(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{4513:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"discuzMy-page"},[r("div",{staticClass:"overflow-container"},[r("ul",{staticClass:"user-info"},[r("li",[t._v("用户名:"+t._s(t.discuz.userInfo.username))]),t.discuz.signInfo.isSigned?r("li",[t._v("签到状态:"+t._s(t.discuz.signInfo.isSigned?"已签到":"未签到"))]):t._e(),t._l(t.creditList,(function(e){return r("li",{key:e},[t._v(t._s(e))])}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[t._l(t.collections,(function(e,n){return[e?r("li",{key:n},[r("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:e.href},query:{scrollTop:e.scrollTop}}}},[t._v(t._s(e.title))])],1):t._e()]}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[t._l(t.recentReply,(function(e,n){return[e?r("router-link",{key:n,attrs:{to:{name:"DiscuzThreadView",params:{url:t.targetHost+e.href}},tag:"li"}},[t._v(t._s(e.title))]):t._e()]}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[t._l(t.recentTopics,(function(e,n){return[e?r("router-link",{key:n,attrs:{to:{name:"DiscuzThreadView",params:{url:t.targetHost+e.href}},tag:"li"}},[t._v(t._s(e.title))]):t._e()]}))],2)])])},i=[],s=(r("8e6e"),r("456d"),r("6762"),r("2fdb"),r("ac6a"),r("a481"),r("96cf"),r("3b8d")),c=r("bd86"),a=r("2f62"),o=(r("adb5"),r("dc16"));function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(c["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p={name:"discuz-page",components:{},data:function(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:l({},Object(a["d"])(["isLoading","discuz"]),{},Object(a["c"])(["targetHost"])),mounted:function(){this.init()},beforeMount:function(){},destroyed:function(){},methods:l({},Object(a["b"])(["getPageData"]),{init:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.discuz.isLogin){t.next=6;break}return t.next=3,this.getMyPageData();case 3:this.collections=JSON.parse(localStorage.getItem("collections"))||[],t.next=7;break;case 6:this.$router.replace("/index");case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getMyPageData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,r,n,i,s,c,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.targetHost,r=this.discuz,n=r.userInfo,i=r.signInfo,s="".concat(e,"my.php"),c=o["a"].my,t.next=5,this.getPageData({url:s,selector:c});case 5:a=t.sent,n.username=a.username,this.creditList=a.creditList,this.recentReply=a.recentReply,this.recentTopics=a.recentTopics,this.recentTopics&&this.recentTopics.forEach((function(t){t&&t.title=="".concat(a.username,"/").concat((new Date).getMonth()+1,"月份/打卡签到帖")&&(t.lastPost.includes((new Date).Format("yyyy-M-d"))?i.isSigned=!0:i.tid=t.tid)}));case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()})},f=p,d=(r("b4ca"),r("2877")),g=Object(d["a"])(f,n,i,!1,null,"1d01b872",null);e["default"]=g.exports},"59c7":function(t,e,r){},b4ca:function(t,e,r){"use strict";var n=r("59c7"),i=r.n(n);i.a}}]);