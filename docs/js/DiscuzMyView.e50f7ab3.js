(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{"247b":function(t,e,s){"use strict";s("c5ce")},4513:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"discuzMy-page"},[s("div",{staticClass:"overflow-container"},[s("ul",{staticClass:"user-info"},[s("li",[t._v("用户名:"+t._s(t.discuz.userInfo.username))]),t.discuz.signInfo.isSigned?s("li",[t._v("签到状态:"+t._s(t.discuz.signInfo.isSigned?"已签到":"未签到"))]):t._e(),t._l(t.creditList,(function(e){return s("li",{key:e},[t._v(t._s(e))])}))],2),s("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[t._l(t.collections,(function(e,i){return[e?s("li",{key:i},[s("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:e.href},query:{scrollTop:e.scrollTop}}}},[t._v(t._s(e.title))])],1):t._e()]}))],2),s("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[t._l(t.recentReply,(function(e,i){return[e?s("router-link",{key:i,attrs:{to:{name:"DiscuzThreadView",params:{url:t.targetHost+e.href}},tag:"li"}},[t._v(t._s(e.title))]):t._e()]}))],2),s("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[t._l(t.recentTopics,(function(e,i){return[e?s("router-link",{key:i,attrs:{to:{name:"DiscuzThreadView",params:{url:t.targetHost+e.href}},tag:"li"}},[t._v(t._s(e.title))]):t._e()]}))],2)])])},a=[],r=(s("5319"),s("2f62")),n=(s("adb5"),s("dc16")),c={name:"discuz-page",components:{},data(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:{...Object(r["d"])(["isLoading","discuz"]),...Object(r["c"])(["targetHost"])},mounted(){this.init()},beforeMount(){},destroyed(){},methods:{...Object(r["b"])(["getPageData"]),async init(){this.discuz.isLogin?(await this.getMyPageData(),this.collections=JSON.parse(localStorage.getItem("collections"))||[]):this.$router.replace("/index")},async getMyPageData(){let{targetHost:t,discuz:{userInfo:e,signInfo:s}}=this,i=t+"my.php",a=n["a"].my,r=await this.getPageData({url:i,selector:a});e.username=r.username,this.creditList=r.creditList,this.recentReply=r.recentReply,this.recentTopics=r.recentTopics,this.recentTopics&&this.recentTopics.forEach(t=>{t&&t.title==`${r.username}/${(new Date).getMonth()+1}月份/打卡签到帖`&&(t.lastPost.includes((new Date).Format("yyyy-M-d"))?s.isSigned=!0:s.tid=t.tid)})}}},o=c,l=(s("247b"),s("2877")),u=Object(l["a"])(o,i,a,!1,null,"fb5a0b94",null);e["default"]=u.exports},c5ce:function(t,e,s){}}]);