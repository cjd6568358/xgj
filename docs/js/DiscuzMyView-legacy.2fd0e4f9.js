(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),c=n("ab13");r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},4513:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discuzMy-page"},[n("div",{staticClass:"overflow-container"},[n("ul",{staticClass:"user-info"},[n("li",[e._v("用户名:"+e._s(e.discuz.userInfo.username))]),e.discuz.signInfo.isSigned?n("li",[e._v(" 签到状态:"+e._s(e.discuz.signInfo.isSigned?"已签到":"未签到")+" ")]):e._e(),e._l(e.creditList,(function(t){return n("li",{key:t},[e._v(e._s(t))])}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[e._l(e.collections,(function(t,r){var i=this;return[t?n("router-link",{directives:[{name:"long-press",rawName:"v-long-press",value:function(){return i.onlongpress(t)},expression:"() => this.onlongpress(thread)"}],key:r,attrs:{tag:"li",to:{name:"DiscuzThreadView",params:{url:t.href},query:{scrollTop:t.scrollTop}}}},[e._v(e._s(t.title))]):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[e._l(e.recentReply,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[e._l(e.recentTopics,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2)])])},i=[],a=(n("99af"),n("c740"),n("4160"),n("caad"),n("a434"),n("ac1f"),n("2532"),n("5319"),n("159b"),n("96cf"),n("1da1")),c=n("5530"),s=n("2f62"),o=(n("adb5"),n("4260")),u={name:"discuz-page",components:{},data:function(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:Object(c["a"])(Object(c["a"])({},Object(s["d"])(["isLoading","discuz"])),Object(s["c"])(["targetHost"])),mounted:function(){this.init()},beforeMount:function(){},destroyed:function(){},methods:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["getPageData"])),{},{init:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.discuz.isLogin){t.next=6;break}return t.next=3,e.getMyPageData();case 3:e.collections=JSON.parse(localStorage.getItem("collections"))||[],t.next=7;break;case 6:e.$router.replace("/index");case 7:case"end":return t.stop()}}),t)})))()},getMyPageData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.targetHost,r=e.discuz,i=r.userInfo,a=r.signInfo,c="".concat(n,"my.php"),s=o["l"].my,t.next=5,e.getPageData({url:c,selector:s});case 5:u=t.sent,i.username=u.username,e.creditList=u.creditList,e.recentReply=u.recentReply,e.recentTopics=u.recentTopics,e.recentTopics&&e.recentTopics.forEach((function(e){e&&e.title=="".concat(u.username,"/").concat((new Date).getMonth()+1,"月份/打卡签到帖")&&(e.lastPost.includes((new Date).Format("yyyy-M-d"))?a.isSigned=!0:a.tid=e.tid)}));case 11:case"end":return t.stop()}}),t)})))()},onlongpress:function(e){if(confirm("确定删除该收藏吗")){var t=this.collections.findIndex((function(t){return t===e}));this.collections.splice(t,1),localStorage.setItem("collections",JSON.stringify(this.collections))}}})},l=u,d=(n("df6c"),n("2877")),f=Object(d["a"])(l,r,i,!1,null,"47896b44",null);t["default"]=f.exports},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"8af4":function(e,t,n){},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),a=n("a691"),c=n("50c4"),s=n("7b0b"),o=n("65f0"),u=n("8418"),l=n("1dde"),d=n("ae40"),f=l("splice"),p=d("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,r,l,d,f,p,y=s(this),b=c(y.length),w=i(e,b),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=b-w):(n=_-2,r=h(g(a(t),0),b-w)),b+n-r>m)throw TypeError(v);for(l=o(y,r),d=0;d<r;d++)f=w+d,f in y&&u(l,d,y[f]);if(l.length=r,n<r){for(d=w;d<b-r;d++)f=d+r,p=d+n,f in y?y[p]=y[f]:delete y[p];for(d=b;d>b-r+n;d--)delete y[d-1]}else if(n>r)for(d=b-r;d>w;d--)f=d+r-1,p=d+n-1,f in y?y[p]=y[f]:delete y[p];for(d=0;d<n;d++)y[d+w]=arguments[d+2];return y.length=b-r+n,l}})},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2"),c=n("ae40"),s=c("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!s},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},df6c:function(e,t,n){"use strict";n("8af4")}}]);