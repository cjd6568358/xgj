(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{4513:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discuzMy-page"},[n("div",{staticClass:"overflow-container"},[n("ul",{staticClass:"user-info"},[n("li",[e._v("用户名:"+e._s(e.discuz.userInfo.username))]),e.discuz.signInfo.isSigned?n("li",[e._v(" 签到状态:"+e._s(e.discuz.signInfo.isSigned?"已签到":"未签到")+" ")]):e._e(),e._l(e.creditList,(function(t){return n("li",{key:t},[e._v(e._s(t))])}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[e._l(e.collections,(function(t,r){return[t?n("li",{key:r},[n("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:t.href},query:{scrollTop:t.scrollTop}}}},[e._v(e._s(t.title))])],1):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[e._l(e.recentReply,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:e.targetHost+t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[e._l(e.recentTopics,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:e.targetHost+t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2)])])},a=[],i=(n("99af"),n("4160"),n("caad"),n("ac1f"),n("2532"),n("5319"),n("159b"),n("96cf"),n("1da1")),s=n("5530"),c=n("2f62"),o=(n("adb5"),n("4260")),u={name:"discuz-page",components:{},data:function(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])(["isLoading","discuz"])),Object(c["c"])(["targetHost"])),mounted:function(){this.init()},beforeMount:function(){},destroyed:function(){},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["getPageData"])),{},{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.discuz.isLogin){t.next=6;break}return t.next=3,e.getMyPageData();case 3:e.collections=JSON.parse(localStorage.getItem("collections"))||[],t.next=7;break;case 6:e.$router.replace("/index");case 7:case"end":return t.stop()}}),t)})))()},getMyPageData:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.targetHost,r=e.discuz,a=r.userInfo,i=r.signInfo,s="".concat(n,"my.php"),c=o["l"].my,t.next=5,e.getPageData({url:s,selector:c});case 5:u=t.sent,a.username=u.username,e.creditList=u.creditList,e.recentReply=u.recentReply,e.recentTopics=u.recentTopics,e.recentTopics&&e.recentTopics.forEach((function(e){e&&e.title=="".concat(u.username,"/").concat((new Date).getMonth()+1,"月份/打卡签到帖")&&(e.lastPost.includes((new Date).Format("yyyy-M-d"))?i.isSigned=!0:i.tid=e.tid)}));case 11:case"end":return t.stop()}}),t)})))()}})},l=u,d=(n("c190"),n("2877")),f=Object(d["a"])(l,r,a,!1,null,"76b4e23e",null);t["default"]=f.exports},"8f1f":function(e,t,n){},c190:function(e,t,n){"use strict";n("8f1f")}}]);