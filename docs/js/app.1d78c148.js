(function(e){function t(t){for(var o,i,r=t[0],c=t[1],l=t[2],u=0,d=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==a[r]&&(o=!1)}o&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},a={app:0},s=[];function r(e){return c.p+"js/"+({"AccountListView~AccountView~MyView~SignView":"AccountListView~AccountView~MyView~SignView",AccountListView:"AccountListView",AccountView:"AccountView",MyView:"MyView",SignView:"SignView",DiscuzAutoLoginView:"DiscuzAutoLoginView",DiscuzForumView:"DiscuzForumView",DiscuzMyView:"DiscuzMyView",DiscuzThreadView:"DiscuzThreadView",DiscuzView:"DiscuzView"}[e]||e)+"."+{"AccountListView~AccountView~MyView~SignView":"32bdf0c1",AccountListView:"464ca880",AccountView:"242e08f2",MyView:"126a412b",SignView:"26cece91",DiscuzAutoLoginView:"0db47cf9",DiscuzForumView:"d73b0920",DiscuzMyView:"73471f96",DiscuzThreadView:"37b8ba13",DiscuzView:"2020f18d"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={AccountListView:1,AccountView:1,MyView:1,SignView:1,DiscuzForumView:1,DiscuzMyView:1,DiscuzThreadView:1,DiscuzView:1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({"AccountListView~AccountView~MyView~SignView":"AccountListView~AccountView~MyView~SignView",AccountListView:"AccountListView",AccountView:"AccountView",MyView:"MyView",SignView:"SignView",DiscuzAutoLoginView:"DiscuzAutoLoginView",DiscuzForumView:"DiscuzForumView",DiscuzMyView:"DiscuzMyView",DiscuzThreadView:"DiscuzThreadView",DiscuzView:"DiscuzView"}[e]||e)+"."+{"AccountListView~AccountView~MyView~SignView":"31d6cfe0",AccountListView:"74b54b1c",AccountView:"542b8437",MyView:"da62483e",SignView:"10cf286b",DiscuzAutoLoginView:"31d6cfe0",DiscuzForumView:"efb57593",DiscuzMyView:"57f58244",DiscuzThreadView:"05a114d3",DiscuzView:"955fd856"}[e]+".css",a=c.p+o,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===a))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var o=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete i[e],p.parentNode.removeChild(p),n(s)},p.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){i[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var s=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(p);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",d.name="ChunkLoadError",d.type=o,d.request=i,n[1](d)}a[e]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/xgj/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"2bac":function(e,t,n){"use strict";n("4ca5")},4260:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"g",(function(){return y})),n.d(t,"j",(function(){return b})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return V}));var o=n("adb5"),i=n("a78e"),a=n.n(i);let s={webSiteList:"\n    li@webSiteList{\n        &{$}\n    };\n    ",index:"\n    .mainbox.forumlist@areaList{\n        h3 a{$name};\n        tbody:has(.lastpost a)@value{\n            h2 a[href=$value]{$name}\n        }\n    };\n    #creditlist_menu>li@creditList{\n        &{$}\n    };\n    #creditlist{$username}\n    ",forum:"\n    filter MathCeil() {\n      return Math.ceil(this/38)\n    };\n    head title{$documentTitle};\n    .mainbox.forumlist tbody:has(.lastpost a)@forumList{\n        h2 a[href=$href]{$name}\n    }\n    .mainbox.threadlist table:has(thead.separation)@threadList{\n        thead.separation td b{$name};\n        tbody:has(th)@value{\n            th span[id^=thread_] a[href=$href]{$title};\n            .nums{$nums};\n            td.icon img[alt=$type];\n            span.bold{$permission|Number}\n            .author cite{html($thanks|replace(/<a(.*)absmiddle\">/g,'')|Number)}\n            .author em{$date}\n        }\n    };\n    .mainbox.threadlist+.pages_btns .pages@pageInfo|pack{\n        $pageNum = 1;\n        $pageCount = 1;\n        strong{$pageNum|Number};\n        em{$pageCount|Number|MathCeil};\n    }\n    ",thread:"\n    filter MathCeil() {\n        return Math.ceil(this/10)\n    };\n    form input[name=formhash][value=$formhash];\n    #postform[action=$replyUrl];\n    form+.pages_btns .threadflow a:nth-of-type(1)[href=$prevTopicUrl];\n    form+.pages_btns .threadflow a:nth-of-type(2)[href=$nextTopicUrl];\n    #ajax_favorite[href=$favoriteUrl];\n    #newspecial_menu li:nth-of-type(1) a[href=$newThreadUrl];\n    head title{$documentTitle};\n    form .mainbox.viewthread@postList{\n        .postauthor cite a[id^=userinfo]{$authorName};\n        .postauthor p:nth-of-type(1){$authorLevel};\n        .postcontent .postinfo strong[id=$pid|replace(/postnum_/g,'')][onclick=$absPostUrl|replace(/',.*/g,'')|match(/viewth.*/g)|first]{$postFloor}\n        .postcontent .postinfo{find('小',$postTime|replace(/^.*发表于 /g,''), '只看该作者')}\n        .postcontent .postmessage>h2{html($postTitle)}\n        .postcontent .postmessage .notice{html($content|replace(/border(.*)alt=\"\"/g,\"\"))}\n        .postcontent .postmessage .t_msgfont{html($content|replace(/border(.*)alt=\"\"/g,\"\"))}\n    };\n    form+.pages_btns .pages@pageInfo|pack{\n        $pageNum = 1;\n        $pageCount = 1;\n        $total = 1;\n        strong{$pageNum|Number};\n        em{$pageCount|Number|MathCeil};\n        em{$total|Number};\n    }\n    ",my:"\n    .credits_info ul>li@creditList{\n        &{$|trim()}\n    };\n    #wrapper #menu ul li:nth-child(2) a[href=$formhash|split('formhash=')|slice(1,2)|first];\n    #menu li cite a{$username};\n    .mainbox table:nth-of-type(1) tbody tr@recentTopics{\n        td:nth-child(1) a[href=$href]{$title}\n        td:nth-child(1) a[href=$tid|split('-')|slice(1,2)|first];\n        td:nth-child(2){$forum}\n        td:nth-child(3) a[href=$lastPostUrl]{$lastPost}\n        td:nth-child(4){$status}\n    };\n    .mainbox table:nth-of-type(2) tbody tr@recentReply{\n        td:nth-child(1) a[href=$href]{$title}\n        td:nth-child(1) a[href=$tid|replace(/^redirect.*ptid=/g,'')];\n        td:nth-child(2){$forum}\n        td:nth-child(3){$lastPost}\n        td:nth-child(4){$status}\n    }\n    ",search:"\n    filter MathCeil() {\n      return Math.ceil(this/38)\n    };\n    .mainbox.threadlist tbody@threadList{\n        th a[href=$href]\n        th a[href=$tid|replace('viewthread.php?tid=','')|replace(/&highlight=.*$/g,'')]{$title};\n        td.author em{$date};\n        td.nums{$nums};\n    };\n    .mainbox.threadlist+.pages_btns .pages em{$pageCount|Number|MathCeil};\n    .mainbox.threadlist+.pages_btns .pages a:nth-of-type(1)[href=$searchHref];\n    "},r=[{type:"default",typeName:"默认"},{type:"QQ",typeName:"QQ"},{type:"wechat",typeName:"微信"},{type:"email",typeName:"邮箱"},{type:"OA",typeName:"OA"},{type:"APP",typeName:"APP"},{type:"website",typeName:"网站"},{type:"card",typeName:"证件"}],c=[{protocol:"https",host:"https://common-server-cjd6568358.vercel.app",platom:"NOW",gfw:!0},{protocol:"all",host:"//common-server.herokuapp.com",platom:"HEROKUAPP",gfw:!0},{protocol:"https",host:"https://cjd6568358.3322.org:6706",platom:"N270",gfw:!1}],l=function(){let e="";for(let t=1;t<=32;t++){let n=Math.floor(16*Math.random()).toString(16);e+=n,8!=t&&12!=t&&16!=t&&20!=t||(e+="-")}return e},u=function(e=Date.now()){let t=new Date(e),n=t.getFullYear(),o=t.getMonth()+1,i=t.getDate();return{year:n,month:o,day:i}},d=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".split(""),n=5381,o=e.length-1;if("string"==typeof e)for(;o>-1;o--)n+=(n<<5)+e.charCodeAt(o);else for(;o>-1;o--)n+=(n<<5)+e[o];var i=2147483647&n,a="";do{a+=t[63&i]}while(i>>=6);return a},p=function(e,t){a.a.set(e,t,{expires:30})},h=function(e){return a.a.get(e)},m=function(e){a.a.remove(e)},f=function(e={fileName:"",data:"",key:""}){let t=c[2].host;"undefined"===typeof e.encrypt&&(e.encrypt=!0);let n=document.createElement("form");n.method="post",n.action=t+"/api/string2File",n.target="name";var o=document.createElement("input");o.type="hidden",o.name="fileName",o.value=e.fileName,n.appendChild(o);var i=document.createElement("input");i.type="hidden",i.name="data",i.value=e.data,n.appendChild(i);var a=document.createElement("input");a.type="hidden",a.name="key",a.value=e.key,n.appendChild(a),n.addEventListener("submit",()=>{var e=1100,t=550,n=(window.screen.availHeight-30-t)/2,o=(window.screen.availWidth-10-e)/2;window.open("about:blank","name","height="+t+", width="+e+", top="+n+", left="+o+",toolbar=no, menubar=no,  scrollbars=yes,resizable=yes,location=no, status=no")}),document.body.appendChild(n),n.submit()},g=async function(e,t){let n=c[0].host;localStorage.getItem("proxy_host")&&(n=localStorage.getItem("proxy_host"));let{data:i}=await o["a"].post(n+"/api/encryptAES",{data:e,key:t});if(1==i.statusCode)return i.data},w=async function(e,t){let n=c[0].host;localStorage.getItem("proxy_host")&&(n=localStorage.getItem("proxy_host"));let{data:i}=await o["a"].post(n+"/api/decryptAES",{data:e,key:t});if(1==i.statusCode)return i.data},y=(e,t,n=!1)=>new Array(new Date(e,t,0).getDate()).fill(0).map((e,t)=>(++t,n?"0"+t:t)),b=function(e){return new Promise((function(t,n){var o=document.createElement("script");o.async=!0,o.src=e,o.onload=()=>{t(!0)},o.onerror=e=>{n(!1)},document.body.appendChild(o)}))},v=()=>new Promise((e,t)=>{b("https://cjd6568358.gitee.io/static/xgj/config.js").then(()=>{if(window.globalConfig)localStorage.setItem("globalConfig",JSON.stringify(window.globalConfig)),e(window.globalConfig);else{let t=localStorage.getItem("globalConfig");t?(console.log("globalConfig use cache data"),e(JSON.parse(t))):(console.warn("globalConfig初始化异常"),e({}))}},()=>{let t=localStorage.getItem("globalConfig");t?(console.log("globalConfig use cache data"),e(JSON.parse(t))):(console.warn("globalConfig初始化异常"),e({}))})}),V=async()=>{let e=await v();e["accountTypeList"]&&(r=e["accountTypeList"]),e["selectors"]&&(s=e["selectors"])}},"4ca5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view",{staticClass:"view"}):e._e()],1),e.$route.meta.keepAlive?e._e():n("router-view",{staticClass:"view"}),e.isLoading?n("div",{staticClass:"loading"},[n("svg",{staticClass:"icon icon-spinner3"},[n("symbol",{attrs:{id:"icon-spinner3",viewBox:"0 0 32 32"}},[n("title",[e._v("spinner3")]),n("path",{attrs:{d:"M16 9.472c-1.030 0-1.865-0.835-1.865-1.865v-5.596c0-1.030 0.835-1.865 1.865-1.865s1.865 0.835 1.865 1.865v5.596c0 1.030-0.835 1.865-1.865 1.865z"}}),n("path",{attrs:{d:"M16 31.155c-0.644 0-1.166-0.522-1.166-1.166v-5.596c0-0.644 0.522-1.166 1.166-1.166s1.166 0.522 1.166 1.166v5.596c0 0.644-0.522 1.166-1.166 1.166z"}}),n("path",{attrs:{d:"M11.805 10.48c-0.604 0-1.192-0.314-1.516-0.875l-2.798-4.846c-0.483-0.836-0.196-1.906 0.64-2.389s1.906-0.196 2.389 0.64l2.798 4.846c0.483 0.836 0.196 1.906-0.64 2.389-0.275 0.159-0.576 0.235-0.873 0.235z"}}),n("path",{attrs:{d:"M22.995 29.164c-0.363 0-0.715-0.188-0.91-0.525l-2.798-4.846c-0.29-0.502-0.118-1.143 0.384-1.433s1.143-0.118 1.433 0.384l2.798 4.846c0.29 0.502 0.118 1.143-0.384 1.433-0.165 0.095-0.346 0.141-0.524 0.141z"}}),n("path",{attrs:{d:"M8.729 13.436c-0.277 0-0.557-0.070-0.814-0.219l-4.846-2.798c-0.781-0.451-1.048-1.449-0.597-2.229s1.449-1.048 2.229-0.597l4.846 2.798c0.781 0.451 1.048 1.449 0.597 2.229-0.302 0.524-0.851 0.816-1.415 0.816z"}}),n("path",{attrs:{d:"M28.114 23.927c-0.158 0-0.319-0.040-0.465-0.125l-4.846-2.798c-0.446-0.258-0.599-0.828-0.341-1.274s0.828-0.599 1.274-0.341l4.846 2.798c0.446 0.258 0.599 0.828 0.341 1.274-0.173 0.299-0.486 0.466-0.809 0.466z"}}),n("path",{attrs:{d:"M7.607 17.515h-5.596c-0.837 0-1.516-0.678-1.516-1.515s0.678-1.515 1.516-1.515h5.596c0.837 0 1.516 0.678 1.516 1.515s-0.678 1.515-1.516 1.515z"}}),n("path",{attrs:{d:"M29.989 16.933c-0 0 0 0 0 0h-5.596c-0.515-0-0.933-0.418-0.933-0.933s0.418-0.933 0.933-0.933c0 0 0 0 0 0h5.596c0.515 0 0.933 0.418 0.933 0.933s-0.418 0.933-0.933 0.933z"}}),n("path",{attrs:{d:"M3.886 24.394c-0.483 0-0.954-0.251-1.213-0.7-0.386-0.669-0.157-1.525 0.512-1.911l4.846-2.798c0.669-0.387 1.525-0.157 1.911 0.512s0.157 1.525-0.512 1.911l-4.846 2.798c-0.22 0.127-0.461 0.188-0.698 0.188z"}}),n("path",{attrs:{d:"M23.27 12.736c-0.322 0-0.636-0.167-0.809-0.466-0.258-0.446-0.105-1.016 0.341-1.274l4.846-2.798c0.446-0.257 1.016-0.105 1.274 0.341s0.105 1.016-0.341 1.274l-4.846 2.798c-0.147 0.085-0.307 0.125-0.465 0.125z"}}),n("path",{attrs:{d:"M9.004 29.397c-0.218 0-0.438-0.055-0.64-0.172-0.613-0.354-0.823-1.138-0.469-1.752l2.798-4.846c0.354-0.613 1.138-0.823 1.752-0.469s0.823 1.138 0.469 1.752l-2.798 4.846c-0.237 0.411-0.668 0.641-1.112 0.641z"}}),n("path",{attrs:{d:"M20.196 9.664c-0.158 0-0.319-0.040-0.465-0.125-0.446-0.258-0.599-0.828-0.341-1.274l2.798-4.846c0.258-0.446 0.828-0.599 1.274-0.341s0.599 0.828 0.341 1.274l-2.798 4.846c-0.173 0.299-0.486 0.466-0.809 0.466z"}})]),n("use",{attrs:{"xlink:href":"#icon-spinner3"}})])]):e._e()],1)},a=[],s=n("c8b5"),r=n.n(s),c=n("2f62"),l={name:"App",data(){return{}},computed:{...Object(c["d"])(["isLoading"])},mounted(){var e=new r.a(document.getElementById("app"));e.on("swiperight",e=>{this.$router.go(-1)})}},u=l,d=(n("034f"),n("2877")),p=Object(d["a"])(u,i,a,!1,null,null,null),h=p.exports,m=n("8c4f");const f=()=>Promise.all([n.e("AccountListView~AccountView~MyView~SignView"),n.e("SignView")]).then(n.bind(null,"3401")),g=()=>n.e("DiscuzView").then(n.bind(null,"bb62")),w=()=>n.e("DiscuzForumView").then(n.bind(null,"820c")),y=()=>n.e("DiscuzMyView").then(n.bind(null,"4513")),b=()=>n.e("DiscuzThreadView").then(n.bind(null,"4cc1")),v=()=>n.e("DiscuzAutoLoginView").then(n.bind(null,"051a")),V=()=>Promise.all([n.e("AccountListView~AccountView~MyView~SignView"),n.e("MyView")]).then(n.bind(null,"eb88")),$=()=>Promise.all([n.e("AccountListView~AccountView~MyView~SignView"),n.e("AccountListView")]).then(n.bind(null,"4615")),S=()=>Promise.all([n.e("AccountListView~AccountView~MyView~SignView"),n.e("AccountView")]).then(n.bind(null,"da70"));o["a"].use(m["a"]);var C=new m["a"]({mode:"history",base:"/xgj/",routes:[{path:"/discuz",name:"DiscuzView",component:g,meta:{keepAlive:!0}},{path:"/discuz/forum/:url",name:"DiscuzForumView",component:w,props:!0,meta:{keepAlive:!0}},{path:"/discuz/my",name:"DiscuzMyView",component:y},{path:"/discuz/thread/:url",name:"DiscuzThreadView",component:b,props:!0},{path:"/discuz/autoLogin",name:"DiscuzAutoLoginView",component:v,props:!0},{path:"/sign",name:"SignView",component:f},{path:"/account",name:"AccountListView",component:$},{path:"/account/:type/:id?",name:"AccountView",component:S,props:!0},{path:"/my",name:"MyView",component:V},{path:"*",redirect:"/sign"}]}),A=n("b383"),z=n.n(A),L=n("4260"),M=n("adb5");o["a"].use(c["a"]);let D=localStorage.getItem("proxy_host");L["k"].some(e=>e.host===D)||(localStorage.removeItem("proxy_host"),D=L["k"][0].host);let k=!!Object(L["e"])("cdb3_auth"),T=JSON.parse(localStorage.getItem("webSiteList")||"[]"),_=Object(L["e"])("webSite")||T[0],O="true"===localStorage.getItem("debug");O&&Object(L["j"])("https://wechatfe.github.io/vconsole/lib/vconsole.min.js").then(()=>{new window.VConsole});var x,j,E=new c["a"].Store({state:{isLoading:!1,debug:O,discuz:{formhash:"",HOST:D,isLogin:k,webSiteList:T,webSite:_,userInfo:{username:"",password:"",QA:"",creditList:[]},signInfo:{isSigned:!1,tid:null}}},mutations:{SET_HOST(e,t){e.discuz.HOST=t},SET_LOADING_STATUS(e,t){e.isLoading=t},UPDATE_DISCUZ(e,t){t.webSite&&Object(L["m"])("webSite",t.webSite),Object.assign(e.discuz,t)}},actions:{logout(){Object(L["c"])("cdb3_auth"),sessionStorage.clear(),location.reload()},switchProxy({commit:e,state:t}){let n=L["k"][0].host,o=L["k"].findIndex(e=>e.host===t.discuz.HOST);o<L["k"].length-1&&(n=L["k"][o+1].host),localStorage.setItem("proxy_host",n),e("SET_HOST",n)},async submitPost({commit:e,state:t},n){let{discuz:{HOST:o}}=t,i={httpConfig:{method:"post",responseType:"arraybuffer"},encoding:"gbk"};Object.assign(i.httpConfig,n),e("SET_LOADING_STATUS",!0);let a=await M["a"].post(o+"/api/advancedProxy",i);return e("SET_LOADING_STATUS",!1),a},async submitReply({dispatch:e,state:t,getters:n},{fid:o,tid:i,message:a="",subject:s=""}){let{isLoading:r,discuz:{formhash:c}}=t,{targetHost:l}=n;if(r||!a)return;let u={url:`${l}post.php?action=reply&fid=${o}&tid=${i}&extra=page%3D1&replysubmit=yes`,data:z.a.stringify({formhash:c,message:a,subject:s})};await e("submitPost",u)},async dailySignIn({dispatch:e,state:t,getters:n}){let{isLoading:o,discuz:{userInfo:{username:i},formhash:a,signInfo:s}}=t,{targetHost:r}=n;if(o)return;let c={},l=`ID: ${i}\r\n日期: ${(new Date).Format("yyyy.M.dd")}\r\n心情: ......`;s.tid?Object.assign(c,{url:`${r}post.php?action=reply&fid=420&tid=${s.tid}&extra=&replysubmit=yes`,data:z.a.stringify({formhash:a,message:l,subject:""})}):Object.assign(c,{url:r+"post.php?action=newthread&fid=420&extra=page%3D1&topicsubmit=yes",data:z.a.stringify({formhash:a,message:l,frombbs:1,typeid:797,selecttypeid:797,readperm:101,subject:`${i}/${(new Date).getMonth()+1}月份/打卡签到帖`})}),await e("submitPost",c),s.isSigned=!0},async monthSignIn({dispatch:e,state:t,getters:n}){if(confirm("确认上报上月签到数据吗?")&&confirm("再次确认")&&confirm("三次确认")){let{discuz:{formhash:o,userInfo:{username:i}}}=t,{targetHost:a}=n,s=await e("getLastMonthSignInfo"),r={url:a+"post.php?action=reply&fid=420&tid=8186986&extra=page%3D1&replysubmit=yes",data:z.a.stringify({formhash:o,subject:"",message:`ID: ${i}\r\n签到次数: ${s.count}\r\n签到链接: [bbs]${encodeURIComponent(`thread-${s.tid}-1-1.html`)}[/bbs]`,fid:420,wysiwyg:0})};await e("submitPost",r),alert("上报成功!")}},async getPageData({commit:e,state:t},{url:n,selector:o,HOST:i=t.discuz.HOST}){let a={httpConfig:{url:n,method:"get",responseType:"arraybuffer"},encoding:"gbk",selector:o};e("SET_LOADING_STATUS",!0);let{data:{data:s}}=await M["a"].post(i+"/api/html2Json",a);return e("SET_LOADING_STATUS",!1),s},async getLastMonthSignInfo({dispatch:e,state:t,getters:n}){let{discuz:{userInfo:{username:o},formhash:i}}=t,{targetHost:a}=n,s={httpConfig:{url:a+"search.php",data:`formhash=${i}&srchtxt=${o}&srchuname=&searchsubmit=true&srchtype=title&srchfilter=all&srchtypeid=&srchfrom=0&before=&orderby=lastpost&ascdesc=desc&srchfid%5B%5D=all`,method:"post",responseType:"arraybuffer"},encoding:"gbk",selector:L["l"].search},{data:{data:{threadList:r}}}=await M["a"].post(t.discuz.HOST+"/api/html2Json",s),c=new Date,l=c.getMonth();return new Promise(async t=>{for(let n=0;n<r.length;n++){const{title:i,tid:s,href:c,date:u}=r[n];if(i==`${o}/${l||12}月份/打卡签到帖`&&new Date(u).Format("yyyy")===(new Date).Format("yyyy")){let n=await e("getPageData",{url:`${a}${c}`,selector:L["l"].thread});t({title:i,tid:s,count:n.pageInfo.total})}}})}},getters:{targetHost:e=>`http://${e.discuz.webSite}/bbs/`}}),N={name:"ModalComponent",props:{customClass:{default:""},customStyle:{default:null},content:{default:{}},maskClosable:{default:!1},showCloseBtn:{default:!1},position:{default:"center"}},data(){return{animateClass:this.getAnimateClass()}},mounted(){this.addEventHandler(),this.$emit("modalMounted")},beforeDestroy(){this.removeEventHandler(),this.$emit("modalBeforeDestroy")},methods:{getAnimateClass(){switch(this.position){case"top":return"slide-down";case"right":return"slide-left";case"bottom":return"slide-up";case"left":return"slide-right";default:return"fade-in"}},addEventHandler(){if(window.modalList&&0!=window.modalList.length?window.removeEventListener("popstate",window.modalList.slice(-1)[0].closeModal,!1):(window.modalList=[],history.pushState(null,null,location.href)),window.addEventListener("popstate",this.closeModal,!1),window.modalList.push(this),window.modalList.length>1)return;let e=document.querySelector(".overflow-container");e&&(e.style.overflowY="hidden",e.style.webkitOverflowScrolling="auto")},removeEventHandler(){if(window.removeEventListener("popstate",this.closeModal,!1),document.body.scrollIntoView(),window.modalList.length>0)return;let e=document.querySelector(".overflow-container");e&&(e.style.overflowY="auto",e.style.webkitOverflowScrolling="touch")},closeModal(e){var t=this;const{animateClass:n,$el:o}=t;if(e&&"click"==e.type){if(1==window.modalList.length)return void history.back();e.stopPropagation()}window.modalList.pop(),window.modalList.length&&(e&&"popstate"==e.type&&history.pushState(null,null,location.href),window.addEventListener("popstate",window.modalList.slice(-1)[0].closeModal,!1)),t.animateClass=n+"-reverse",t.$nextTick().then(()=>{setTimeout(()=>{t.$destroy(),document.body.removeChild(o)},300)})},closeBtnClick(e){this.$listeners.closeBtnClick||this._events.closeBtnClick?this.$emit("closeBtnClick",e):this.closeModal(e)},maskClick(e){this.maskClosable&&(this.$emit("maskClick"),this.closeModal(e))}},computed:{wrapperClass(){const{customClass:e}=this;return"modal-wrapper "+e},modalClass(){const{animateClass:e,position:t}=this;return`modal-${t} ${e}`}},render(){const e=arguments[0],{wrapperClass:t,customStyle:n,content:o,showCloseBtn:i,modalClass:a,closeModal:s,closeBtnClick:r,maskClick:c}=this;if(o.componentOptions){let{listeners:e={}}=o.componentOptions;e.closeModal=s,o.componentOptions.listeners=e}return e("div",{class:"hmc-modal-root"},[e("div",{class:t},[e("div",{class:"modal"},[e("div",{class:a,on:{click:c}},[e("div",{class:"modal-container",style:n,on:{click:e=>e.stopPropagation()}},[o,i&&e("svg",{class:"modal-close-btn",on:{click:r}},[e("use",{attrs:{"xlink:href":"#icon-close"}})])])])])])])}},P=N,I=(n("2bac"),Object(d["a"])(P,x,j,!1,null,null,null)),H=I.exports;function F(e={}){let{$router:t,$store:n}=this,i=new o["a"]({router:t,store:n,render:t=>t(H,{props:e})});return document.body.appendChild(i.$mount().$el),i.$children[0]}var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"toast",class:{hide:e.isHide}},[n("div",{class:[e.customClass,e.type],on:{click:function(e){e.stopPropagation(),e.preventDefault()}}},["info"==e.type?n("div",{staticClass:"content",class:[e.position]},[e._v(" "+e._s(e.msg)+" ")]):n("div",{staticClass:"content"},[e._v(" "+e._s(e.msg)+" ")])])])},B=[],q={name:"Toast",props:{type:{type:String,default:"info"},msg:{type:String,default:""},position:{type:String,default:"center"},customClass:{type:String,default:""},duration:{type:Number,default:1500},onClose:{type:Function,default:()=>{}}},data(){return{isHide:!1}},mounted(){setTimeout(()=>{this.isHide=!0,this.onClose(),setTimeout(()=>{this.$destroy(),this.$el.remove()},500)},this.duration)},computed:{},methods:{}},R=q,J=(n("83fe"),Object(d["a"])(R,U,B,!1,null,null,null)),G=J.exports,Q={init:(e,t)=>("string"===typeof e?e={msg:e,type:t}:e.type=t,new o["a"]({render:t=>t(G,{props:{...e}})}).$mount().$el),info:function(e){document.body.appendChild(this.init(e,"info"))},normal:function(e){const{el:t=document.querySelector("div[class$='-page view']")||document.body}=e;t.appendChild(this.init(e,"normal"))},error:function(e){const{el:t=document.querySelector("div[class$='-page view']")||document.body}=e;t.appendChild(this.init(e,"error"))}},Y=n("9483");Object(Y["a"])("/xgj/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},cached(){console.log("Content has been cached for offline use.")},updated(){console.log("New content is available; please refresh."),location.reload(!0)},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),o["a"].config.errorHandler=function(e,t,n){console.log(e)},o["a"].config.productionTip=!1,o["a"].prototype.$openModal=F,o["a"].prototype.$Toast=Q,Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Object(L["i"])().then(()=>{new o["a"]({router:C,store:E,render:e=>e(h)}).$mount("#app")}),window.onerror=e=>{console.log(e)},window.attachimg=window.attachimginfo=window.fetchOffset=window.copycode=window.signature=window.fastreply=window.tagshow=window.zoom=window.zoomdrag=window.zoomST=window.zoomimgresize=window.zoomimgadjust=window.zoomclose=window.videoPlay=()=>{}},"83fe":function(e,t,n){"use strict";n("c6b4")},"85ec":function(e,t,n){},adb5:function(e,t,n){"use strict";var o=n("bc3a"),i=n.n(o),a=n("74e2"),s=n.n(a);const r=new s.a({maxSockets:100,maxFreeSockets:10,timeout:6e4,freeSocketTimeout:3e4}),c=i.a.create({withCredentials:!0});c.defaults.httpAgent=r,c.interceptors.request.use(async e=>(document.cookie&&(e.headers["corscookies"]=document.cookie),e),(async function(e){return Promise.reject(e)})),c.interceptors.response.use(async e=>(console.log("request url:"+e.request.responseURL),e),(async function(e){return Promise.reject(e)})),t["a"]=c},c6b4:function(e,t,n){}});