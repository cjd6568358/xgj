(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{4513:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"discuzMy-page"},[r("div",{staticClass:"overflow-container"},[r("ul",{staticClass:"user-info"},[r("li",[e._v("用户名:"+e._s(e.discuz.userInfo.username))]),e.discuz.signInfo.isSigned?r("li",[e._v("签到状态:"+e._s(e.discuz.signInfo.isSigned?"已签到":"未签到"))]):e._e(),e._l(e.creditList,function(t){return r("li",{key:t},[e._v(e._s(t))])})],2),r("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[e._l(e.collections,function(t,i){return[t?r("li",{key:i},[r("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:t.href},query:{scrollTop:t.scrollTop}}}},[e._v(e._s(t.title))])],1):e._e()]})],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[e._l(e.recentReply,function(t,i){return[t?r("router-link",{key:i,attrs:{to:{name:"DiscuzThreadView",params:{url:e.targetHost+t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]})],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[e._l(e.recentTopics,function(t,i){return[t?r("router-link",{key:i,attrs:{to:{name:"DiscuzThreadView",params:{url:e.targetHost+t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]})],2)])])},a=[],n=(r("ac6a"),r("a481"),r("1da1")),s=r("ade3"),c=r("2f62"),o=(r("adb5"),r("dc16"));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var d={name:"discuz-page",components:{},data(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:u({},Object(c["d"])(["isLoading","discuz"]),{},Object(c["c"])(["targetHost"])),mounted(){this.init()},beforeMount(){},destroyed(){},methods:u({},Object(c["b"])(["getPageData"]),{init(){var e=this;return Object(n["a"])(function*(){e.discuz.isLogin?(yield e.getMyPageData(),e.collections=JSON.parse(localStorage.getItem("collections"))||[]):e.$router.replace("/index")})()},getMyPageData(){var e=this;return Object(n["a"])(function*(){let t=e.targetHost,r=e.discuz,i=r.userInfo,a=r.signInfo,n=`${t}my.php`,s=o["a"].my,c=yield e.getPageData({url:n,selector:s});i.username=c.username,e.creditList=c.creditList,e.recentReply=c.recentReply,e.recentTopics=c.recentTopics,e.recentTopics&&e.recentTopics.forEach(e=>{e&&e.title==`${c.username}/${(new Date).getMonth()+1}月份/打卡签到帖`&&(e.lastPost.includes((new Date).Format("yyyy-M-d"))?a.isSigned=!0:a.tid=e.tid)})})()}})},p=d,f=(r("b4ca"),r("2877")),g=Object(f["a"])(p,i,a,!1,null,"1d01b872",null);t["default"]=g.exports},"59c7":function(e,t,r){},b4ca:function(e,t,r){"use strict";var i=r("59c7"),a=r.n(i);a.a}}]);