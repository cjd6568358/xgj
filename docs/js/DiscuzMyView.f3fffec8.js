(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{2532:function(e,t,r){"use strict";var n=r("23e7"),i=r("5a34"),a=r("1d80"),s=r("ab13");n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},4513:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"discuzMy-page"},[r("div",{staticClass:"overflow-container"},[r("ul",{staticClass:"user-info"},[r("li",[e._v("用户名:"+e._s(e.discuz.userInfo.username))]),e.discuz.signInfo.isSigned?r("li",[e._v("签到状态:"+e._s(e.discuz.signInfo.isSigned?"已签到":"未签到"))]):e._e(),e._l(e.creditList,(function(t){return r("li",{key:t},[e._v(e._s(t))])}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[e._l(e.favorites,(function(t,n){return[t?r("li",{key:n},[r("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:t.href},query:{scrollTop:t.scrollTop,tid:t.tid}}}},[e._v(e._s(t.title))])],1):e._e()]}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[e._l(e.recentReply,(function(t,n){return[t?r("router-link",{key:n,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2),r("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[e._l(e.recentTopics,(function(t,n){return[t?r("router-link",{key:n,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2)])])},i=[],a=r("1da1"),s=r("5530"),c=(r("96cf"),r("5319"),r("ac1f"),r("159b"),r("99af"),r("caad"),r("2532"),r("c740"),r("a434"),r("2f62")),o=r("4260"),u={name:"discuz-page",components:{},data:function(){return{favorites:[],creditList:[],recentReply:[],recentTopics:[]}},computed:Object(s["a"])(Object(s["a"])({},Object(c["d"])(["isLoading","discuz"])),Object(c["c"])(["targetHost"])),mounted:function(){this.init()},beforeMount:function(){},destroyed:function(){},methods:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["getPageData"])),{},{init:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.discuz.isLogin){t.next=6;break}return t.next=3,e.getMyPageData();case 3:e.favorites=JSON.parse(localStorage.getItem("favorites"))||[],t.next=7;break;case 6:e.$router.replace("/index");case 7:case"end":return t.stop()}}),t)})))()},getMyPageData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,i,a,s,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.targetHost,n=e.discuz,i=n.userInfo,a=n.signInfo,s="".concat(r,"my.php"),c=o["l"].my,t.next=5,e.getPageData({url:s,selector:c});case 5:u=t.sent,i.username=u.username,e.creditList=u.creditList,e.recentReply=u.recentReply,e.recentTopics=u.recentTopics,e.recentTopics&&e.recentTopics.forEach((function(e){e&&e.title=="".concat(u.username,"/").concat((new Date).getMonth()+1,"月份/打卡签到帖")&&(e.lastPost.includes((new Date).Format("yyyy-M-d"))?a.isSigned=!0:a.tid=e.tid)}));case 11:case"end":return t.stop()}}),t)})))()},onlongpress:function(e){if(confirm("确定删除该收藏吗")){var t=this.favorites.findIndex((function(t){return t===e}));this.favorites.splice(t,1),localStorage.setItem("favorites",JSON.stringify(this.favorites))}}})},l=u,f=(r("7687"),r("2877")),d=Object(f["a"])(l,n,i,!1,null,"861fa0f2",null);t["default"]=d.exports},"5a34":function(e,t,r){var n=r("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},7687:function(e,t,r){"use strict";r("c33e")},a434:function(e,t,r){"use strict";var n=r("23e7"),i=r("23cb"),a=r("a691"),s=r("50c4"),c=r("7b0b"),o=r("65f0"),u=r("8418"),l=r("1dde"),f=l("splice"),d=Math.max,p=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,n,l,f,m,v,y=c(this),b=s(y.length),w=i(e,b),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=b-w):(r=_-2,n=p(d(a(t),0),b-w)),b+r-n>g)throw TypeError(h);for(l=o(y,n),f=0;f<n;f++)m=w+f,m in y&&u(l,f,y[m]);if(l.length=n,r<n){for(f=w;f<b-n;f++)m=f+n,v=f+r,m in y?y[v]=y[m]:delete y[v];for(f=b;f>b-n+r;f--)delete y[f-1]}else if(r>n)for(f=b-n;f>w;f--)m=f+n-1,v=f+r-1,m in y?y[v]=y[m]:delete y[v];for(f=0;f<r;f++)y[f+w]=arguments[f+2];return y.length=b-n+r,l}})},ab13:function(e,t,r){var n=r("b622"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},c33e:function(e,t,r){},caad:function(e,t,r){"use strict";var n=r("23e7"),i=r("4d64").includes,a=r("44d2");n({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")}}]);