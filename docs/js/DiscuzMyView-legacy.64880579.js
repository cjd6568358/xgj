(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DiscuzMyView"],{"01ab":function(e,t,n){},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),c=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(e){return!!~String(c(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},4513:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"discuzMy-page"},[n("div",{staticClass:"overflow-container"},[n("ul",{staticClass:"user-info"},[n("li",[e._v("用户名:"+e._s(e.discuz.userInfo.username))]),e.discuz.signInfo.isSigned?n("li",[e._v("签到状态:"+e._s(e.discuz.signInfo.isSigned?"已签到":"未签到"))]):e._e(),e._l(e.creditList,(function(t){return n("li",{key:t},[e._v(e._s(t))])}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"我的收藏"}},[e._l(e.collections,(function(t,r){return[t?n("li",{key:r},[n("router-link",{attrs:{to:{name:"DiscuzThreadView",params:{url:t.href},query:{scrollTop:t.scrollTop,tid:t.tid}}}},[e._v(e._s(t.title))])],1):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近回复"}},[e._l(e.recentReply,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2),n("ul",{staticClass:"area",attrs:{"data-title":"最近主题"}},[e._l(e.recentTopics,(function(t,r){return[t?n("router-link",{key:r,attrs:{to:{name:"DiscuzThreadView",params:{url:t.href}},tag:"li"}},[e._v(e._s(t.title))]):e._e()]}))],2)])])},i=[],c=n("1da1"),a=n("5530"),s=(n("96cf"),n("5319"),n("ac1f"),n("159b"),n("99af"),n("caad"),n("2532"),n("c740"),n("a434"),n("2f62")),o=n("4260"),u={name:"discuz-page",components:{},data:function(){return{collections:[],creditList:[],recentReply:[],recentTopics:[]}},computed:Object(a["a"])(Object(a["a"])({},Object(s["d"])(["isLoading","discuz"])),Object(s["c"])(["targetHost"])),mounted:function(){this.init()},beforeMount:function(){},destroyed:function(){},methods:Object(a["a"])(Object(a["a"])({},Object(s["b"])(["getPageData"])),{},{init:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.discuz.isLogin){t.next=6;break}return t.next=3,e.getMyPageData();case 3:e.collections=JSON.parse(localStorage.getItem("collections"))||[],t.next=7;break;case 6:e.$router.replace("/index");case 7:case"end":return t.stop()}}),t)})))()},getMyPageData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,r,i,c,a,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.targetHost,r=e.discuz,i=r.userInfo,c=r.signInfo,a="".concat(n,"my.php"),s=o["l"].my,t.next=5,e.getPageData({url:a,selector:s});case 5:u=t.sent,i.username=u.username,e.creditList=u.creditList,e.recentReply=u.recentReply,e.recentTopics=u.recentTopics,e.recentTopics&&e.recentTopics.forEach((function(e){e&&e.title=="".concat(u.username,"/").concat((new Date).getMonth()+1,"月份/打卡签到帖")&&(e.lastPost.includes((new Date).Format("yyyy-M-d"))?c.isSigned=!0:c.tid=e.tid)}));case 11:case"end":return t.stop()}}),t)})))()},onlongpress:function(e){if(confirm("确定删除该收藏吗")){var t=this.collections.findIndex((function(t){return t===e}));this.collections.splice(t,1),localStorage.setItem("collections",JSON.stringify(this.collections))}}})},l=u,f=(n("ff76"),n("2877")),d=Object(f["a"])(l,r,i,!1,null,"73a2e40f",null);t["default"]=d.exports},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),c=n("a691"),a=n("50c4"),s=n("7b0b"),o=n("65f0"),u=n("8418"),l=n("1dde"),f=l("splice"),d=Math.max,p=Math.min,g=9007199254740991,h="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var n,r,l,f,m,y,v=s(this),b=a(v.length),w=i(e,b),_=arguments.length;if(0===_?n=r=0:1===_?(n=0,r=b-w):(n=_-2,r=p(d(c(t),0),b-w)),b+n-r>g)throw TypeError(h);for(l=o(v,r),f=0;f<r;f++)m=w+f,m in v&&u(l,f,v[m]);if(l.length=r,n<r){for(f=w;f<b-r;f++)m=f+r,y=f+n,m in v?v[y]=v[m]:delete v[y];for(f=b;f>b-r+n;f--)delete v[f-1]}else if(n>r)for(f=b-r;f>w;f--)m=f+r-1,y=f+n-1,m in v?v[y]=v[m]:delete v[y];for(f=0;f<n;f++)v[f+w]=arguments[f+2];return v.length=b-r+n,l}})},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,c=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},ff76:function(e,t,n){"use strict";n("01ab")}}]);